{"version":3,"file":"index.js","sources":["../../src/utils/removeTrailingSlash.js","../../src/config/index.js","../../src/utils/version.js","../../src/frontend/AuthProvider.jsx","../../src/components/CreateOrgLink.js","../../src/components/LoginLink.js","../../src/components/LogoutLink.js","../../src/components/RegisterLink.js","../../src/utils/pageRouter/isTokenValid.js","../../src/frontend/KindeBrowserClient.js"],"sourcesContent":["export function removeTrailingSlash(url) {\n  if (url === undefined || url === null) return undefined;\n\n  url = url.trim();\n\n  if (url.endsWith('/')) {\n    url = url.slice(0, -1);\n  }\n\n  return url;\n}\n","import {version} from '../utils/version';\nimport {removeTrailingSlash} from '../utils/removeTrailingSlash';\n\n/**\n * @type {import('../../types').KindeState}\n */\nconst initialState = {\n  accessToken: null,\n  idToken: null,\n  isAuthenticated: false,\n  isLoading: true,\n  organization: null,\n  permissions: [],\n  user: null,\n  userOrganizations: [],\n  getAccessToken: () => null,\n  getBooleanFlag: () => null,\n  getClaim: () => null,\n  getFlag: () => null,\n  getIdToken: () => null,\n  getIntegerFlag: () => null,\n  getOrganization: () => null,\n  getPermission: () => null,\n  getPermissions: () => [],\n  getStringFlag: () => null,\n  getToken: () => null,\n  getUser: () => null,\n  getUserOrganizations: () => null,\n  refreshData: () => null\n};\n\nconst SESSION_PREFIX = 'pkce-verifier';\n\nconst KINDE_SITE_URL = removeTrailingSlash(process.env.KINDE_SITE_URL);\n\n// We need to use NEXT_PUBLIC for frontend vars\nconst KINDE_AUTH_API_PATH =\n  removeTrailingSlash(process.env.NEXT_PUBLIC_KINDE_AUTH_API_PATH) ||\n  removeTrailingSlash(process.env.KINDE_AUTH_API_PATH) ||\n  '/api/auth';\n\nconst KINDE_POST_LOGIN_REDIRECT_URL =\n  removeTrailingSlash(process.env.KINDE_POST_LOGIN_REDIRECT_URL) ||\n  removeTrailingSlash(process.env.KINDE_POST_LOGIN_URL_REDIRECT_URL);\nconst KINDE_POST_LOGOUT_REDIRECT_URL = removeTrailingSlash(\n  process.env.KINDE_POST_LOGOUT_REDIRECT_URL\n);\n\nconst KINDE_ISSUER_URL = removeTrailingSlash(process.env.KINDE_ISSUER_URL);\nconst KINDE_CLIENT_ID = process.env.KINDE_CLIENT_ID;\nconst KINDE_CLIENT_SECRET = process.env.KINDE_CLIENT_SECRET;\nconst KINDE_AUDIENCE = process.env.KINDE_AUDIENCE;\nconst KINDE_COOKIE_DOMAIN = removeTrailingSlash(\n  process.env.KINDE_COOKIE_DOMAIN\n);\nconst KINDE_SCOPE = process.env.KINDE_SCOPE || 'openid profile email offline';\n\nconst isDebugMode = process.env.KINDE_DEBUG_MODE === 'true';\n\nexport const config = {\n  isDebugMode,\n  apiPath: KINDE_AUTH_API_PATH,\n  initialState,\n  SESSION_PREFIX,\n  redirectURL: KINDE_SITE_URL,\n  postLoginRedirectURL: KINDE_POST_LOGIN_REDIRECT_URL,\n  issuerURL: KINDE_ISSUER_URL,\n  clientID: KINDE_CLIENT_ID,\n  clientSecret: KINDE_CLIENT_SECRET,\n  postLogoutRedirectURL: KINDE_POST_LOGOUT_REDIRECT_URL,\n  audience: KINDE_AUDIENCE ? KINDE_AUDIENCE.split(' ') : '',\n  cookieDomain: KINDE_COOKIE_DOMAIN,\n  responseType: 'code',\n  codeChallengeMethod: 'S256',\n  redirectRoutes: {\n    callback: `${KINDE_AUTH_API_PATH}/kinde_callback`\n  },\n  issuerRoutes: {\n    logout: '/logout',\n    login: '/oauth2/auth',\n    register: '/oauth2/auth',\n    token: '/oauth2/token',\n    profile: '/oauth2/v2/user_profile'\n  },\n  clientOptions: {\n    audience: KINDE_AUDIENCE ? KINDE_AUDIENCE.split(' ') : '',\n    authDomain: KINDE_ISSUER_URL || '',\n    clientId: KINDE_CLIENT_ID || '',\n    clientSecret: KINDE_CLIENT_SECRET || '',\n    logoutRedirectURL: KINDE_POST_LOGOUT_REDIRECT_URL || '',\n    redirectURL: `${KINDE_SITE_URL}/api/auth/kinde_callback`,\n    frameworkVersion: version,\n    scope: KINDE_SCOPE\n  },\n  grantType: 'AUTHORIZATION_CODE'\n};\n","// Generated by genversion.\nexport const version = '2.4.6'\n","import {config} from '../config/index';\nimport {\n  createContext,\n  useContext,\n  useState,\n  useCallback,\n  useEffect\n} from 'react';\nimport React from 'react';\n/** @type {Record<import('../../types').KindeFlagTypeCode, import('../../types').KindeFlagTypeValue>} */\nexport const flagDataTypeMap = {\n  s: 'string',\n  i: 'integer',\n  b: 'boolean'\n};\n\nconst AuthContext = createContext({\n  ...config.initialState\n});\n\n/**\n *\n * @returns {import('../../types').KindeState}\n */\nexport const useKindeAuth = () => useContext(AuthContext);\n\n/**\n *\n * @param {string} url\n * @returns {Promise<import('../../types').KindeSetupResponse | undefined>}\n */\nconst tokenFetcher = async (url) => {\n  let response;\n  try {\n    response = await fetch(url);\n  } catch {\n    throw new Error('Failed to fetch token');\n  }\n\n  if (response.ok) {\n    return await response.json();\n  } else if (response.status === 401) {\n    throw new Error('Failed to fetch token');\n  }\n};\n\n/**\n *\n * @param {children: import('react').ReactNode, options?: {apiPath: string} | undefined} props\n * @returns\n */\nexport const KindeProvider = ({children}) => {\n  const setupUrl = `${config.apiPath}/setup`;\n\n  const refreshData = useCallback(() => {\n    checkSession();\n  }, ['checkSession']);\n\n  const checkSession = useCallback(async () => {\n    try {\n      const tokens = await tokenFetcher(setupUrl);\n\n      if (tokens == undefined) return;\n\n      const {\n        accessToken,\n        accessTokenEncoded,\n        featureFlags,\n        idToken,\n        organization,\n        permissions,\n        user,\n        userOrganizations\n      } = tokens;\n\n      const getAccessToken = () => accessToken;\n      const getAccessTokenRaw = () => accessTokenEncoded;\n      const getAccessTokenEncoded = () => accessTokenEncoded;\n      const getToken = () => accessTokenEncoded;\n      const getIdToken = () => idToken;\n      const getIdTokenRaw = () => idTokenRaw;\n      const getPermissions = () => permissions;\n      const getOrganization = () => organization;\n      const getUser = () => user;\n      const getUserOrganizations = () => userOrganizations;\n\n      /**\n       *\n       * @param {string} claim\n       * @param {\"access_token\" | \"id_token\"} tokenKey\n       */\n      const getClaim = (claim, tokenKey = 'access_token') => {\n        const token =\n          tokenKey === 'access_token' ? tokens.accessToken : tokens.idToken;\n        // @ts-ignore\n        return token ? {name: claim, value: token[claim]} : null;\n      };\n\n      /**\n       *\n       * @param {string} code\n       * @param {number | string | boolean} defaultValue\n       * @param {import('../../types').KindeFlagTypeCode} flagType\n       * @returns {import('../../types').KindeFlag}\n       */\n      const getFlag = (code, defaultValue, flagType) => {\n        const flags = featureFlags;\n        const flag = flags && flags[code] ? flags[code] : {};\n\n        if (Object.keys(flag).length === 0 && defaultValue == undefined) {\n          throw Error(\n            `Flag ${code} was not found, and no default value has been provided`\n          );\n        }\n\n        // @ts-ignore\n        if (flagType && flag.t && flagType !== flag.t) {\n          throw Error(\n            `Flag ${code} is of type ${\n              // @ts-ignore\n              flagDataTypeMap[flag.t]\n            } - requested type ${flagDataTypeMap[flagType]}`\n          );\n        }\n        return {\n          // @ts-ignore\n          code,\n          // @ts-ignore\n          type: flagDataTypeMap[flag.t || flagType],\n          // @ts-ignore\n          value: flag.v == null ? defaultValue : flag.v,\n          // @ts-ignore\n          is_default: flag.v == null,\n          defaultValue: defaultValue\n        };\n      };\n\n      /**\n       *\n       * @param {string} code\n       * @param {boolean} defaultValue\n       * @returns {boolean | undefined | null}\n       */\n      const getBooleanFlag = (code, defaultValue) => {\n        try {\n          const flag = getFlag(code, defaultValue, 'b');\n          return flag.value;\n        } catch (err) {\n          if (config.isDebugMode) {\n            console.error(err);\n          }\n        }\n      };\n\n      /**\n       *\n       * @param {string} code\n       * @param {string} defaultValue\n       * @returns {string | undefined | null}\n       */\n      const getStringFlag = (code, defaultValue) => {\n        try {\n          const flag = getFlag(code, defaultValue, 's');\n          return flag.value;\n        } catch (err) {\n          if (config.isDebugMode) {\n            console.error(err);\n          }\n        }\n      };\n\n      /**\n       *\n       * @param {string} code\n       * @param {number} defaultValue\n       * @returns {number | undefined | null}\n       */\n      const getIntegerFlag = (code, defaultValue) => {\n        try {\n          const flag = getFlag(code, defaultValue, 'i');\n          return flag.value;\n        } catch (err) {\n          if (config.isDebugMode) {\n            console.error(err);\n          }\n        }\n      };\n\n      /**\n       *\n       * @param {string} key\n       * @returns {import('../../types').KindePermission}\n       */\n      const getPermission = (key) => {\n        return {\n          isGranted: permissions.permissions.some((p) => p === key),\n          orgCode: organization.orgCode\n        };\n      };\n\n      setState((previous) => ({\n        ...previous,\n        accessToken,\n        accessTokenEncoded,\n        accessTokenRaw: accessTokenEncoded,\n        idToken,\n        idTokenRaw,\n        idTokenEncoded: idTokenRaw,\n        isLoading: false,\n        organization,\n        permissions,\n        user,\n        userOrganizations,\n        getAccessToken,\n        getAccessTokenRaw,\n        getAccessTokenEncoded,\n        getBooleanFlag,\n        getClaim,\n        getFlag,\n        getIdToken,\n        getIdTokenRaw,\n        getIntegerFlag,\n        getOrganization,\n        getPermission,\n        getPermissions,\n        getStringFlag,\n        getToken,\n        getUser,\n        getUserOrganizations,\n        refreshData\n      }));\n    } catch (error) {\n      if (config.isDebugMode) {\n        console.error(error);\n      }\n      // @ts-ignore\n      setState((previous) => ({...previous, isLoading: false, error: error}));\n    }\n  }, [setupUrl]);\n\n  const [state, setState] = useState({\n    ...config.initialState\n  });\n\n  // if you get the user set loading false\n  useEffect(() => {\n    const checkLoading = async () => {\n      await checkSession();\n      setState((previous) => ({\n        ...previous,\n        isLoading: false\n      }));\n    };\n    if (!state.user) {\n      checkLoading();\n    }\n  }, [state.user]);\n\n  // provide this stuff to the rest of your app\n  const {\n    user,\n    accessToken,\n    accessTokenRaw,\n    accessTokenEncoded,\n    idToken,\n    idTokenEncoded,\n    idTokenRaw,\n    getAccessToken,\n    getAccessTokenRaw,\n    getIdTokenRaw,\n    getToken,\n    getClaim,\n    getFlag,\n    getIdToken,\n    getBooleanFlag,\n    getStringFlag,\n    getIntegerFlag,\n    getOrganization,\n    getPermission,\n    getPermissions,\n    getUser,\n    getUserOrganizations,\n    permissions,\n    organization,\n    userOrganizations,\n    error,\n    isLoading\n  } = state;\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        error,\n        accessToken,\n        idToken,\n        accessTokenEncoded,\n        accessTokenRaw,\n        idTokenEncoded,\n        idTokenRaw,\n        getAccessToken,\n        getAccessTokenRaw,\n        getToken,\n        getClaim,\n        getFlag,\n        getIdToken,\n        getIdTokenRaw,\n        getBooleanFlag,\n        getStringFlag,\n        getIntegerFlag,\n        getOrganization,\n        getPermission,\n        getPermissions,\n        getUser,\n        getUserOrganizations,\n        permissions,\n        organization,\n        userOrganizations,\n        isLoading,\n        isAuthenticated: !!user,\n        refreshData\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React from 'react';\n\nimport {config} from '../config/index';\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [orgName]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\nexport function CreateOrgLink({children, orgName, ...props}) {\n  return (\n    <a\n      href={`${config.apiPath}/create_org${\n        orgName ? `?org_name=${orgName}` : ''\n      }`}\n      {...props}\n    >\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\nimport {config} from '../config/index';\n\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [orgCode]\n * @prop {string} [postLoginRedirectURL]\n * @prop {Object.<string, string>} [authUrlParams]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\nexport function LoginLink({\n  children,\n  postLoginRedirectURL,\n  orgCode,\n  authUrlParams,\n  ...props\n}) {\n  const params = new URLSearchParams();\n  let paramsObj = {};\n  if (orgCode != null) paramsObj.org_code = orgCode;\n  if (postLoginRedirectURL != null) {\n    if (postLoginRedirectURL?.startsWith('/')) {\n      const host =\n        typeof window !== 'undefined'\n          ? window.location.origin\n          : process.env.KINDE_SITE_URL;\n      postLoginRedirectURL = `${host}${postLoginRedirectURL}`;\n    }\n    paramsObj.post_login_redirect_url = postLoginRedirectURL;\n  }\n\n  paramsObj = {...authUrlParams, ...paramsObj};\n\n  for (const key in paramsObj) params.append(key, paramsObj[key]);\n\n  const authUrl = `${config.apiPath}/login${\n    params ? `?${params.toString()}` : ''\n  }`;\n  return (\n    <a href={authUrl} {...props}>\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\n\nimport {config} from '../config/index';\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [postLogoutRedirectURL]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\nexport function LogoutLink({children, postLogoutRedirectURL, ...props}) {\n  return (\n    <a\n      href={`${config.apiPath}/logout${\n        postLogoutRedirectURL\n          ? `?post_logout_redirect_url=${postLogoutRedirectURL}`\n          : ''\n      }\n      `}\n      {...props}\n    >\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\nimport {config} from '../config/index';\n\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [orgCode]\n * @prop {string} [postLoginRedirectURL]\n * @prop {Object.<string, string>} [authUrlParams]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\n\nexport function RegisterLink({\n  children,\n  orgCode,\n  postLoginRedirectURL,\n  authUrlParams,\n  ...props\n}) {\n  let params = new URLSearchParams();\n  let paramsObj = {};\n  if (orgCode != null) paramsObj.org_code = orgCode;\n  if (postLoginRedirectURL != null)\n    paramsObj.post_login_redirect_url = postLoginRedirectURL;\n\n  paramsObj = {...authUrlParams, ...paramsObj};\n\n  for (const key in paramsObj) params.append(key, paramsObj[key]);\n  return (\n    <a\n      href={`${config.apiPath}/register${\n        params ? `?${params.toString()}` : ''\n      }`}\n      {...props}\n    >\n      {children}\n    </a>\n  );\n}\n","import {jwtDecoder, TokenPart} from '@kinde/jwt-decoder';\nimport {config} from '../../config/index';\n\nconst isTokenValid = (token) => {\n  const accessToken = token?.access_token ?? token;\n  if (!accessToken) return false;\n\n  const accessTokenHeader = jwtDecoder(accessToken, TokenPart.header);\n  const accessTokenPayload = jwtDecoder(accessToken);\n  let isAudienceValid = true;\n  if (config.audience)\n    isAudienceValid =\n      accessTokenPayload.aud &&\n      accessTokenPayload.aud.includes(...config.audience);\n\n  if (\n    accessTokenPayload.iss == config.issuerURL &&\n    accessTokenHeader.alg == 'RS256' &&\n    accessTokenPayload.exp > Math.floor(Date.now() / 1000) &&\n    isAudienceValid\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nexport {isTokenValid};\n","import {useEffect, useState} from 'react';\nimport {flagDataTypeMap} from './AuthProvider.jsx';\nimport {config} from '../config/index.js';\n\n/**\n *\n * @returns {import('../../types.js').KindeState}\n */\nexport const useKindeBrowserClient = (\n  apiPath = process.env.NEXT_PUBLIC_KINDE_AUTH_API_PATH ||\n    process.env.KINDE_AUTH_API_PATH ||\n    '/api/auth'\n) => {\n  const [state, setState] = useState({\n    accessToken: null,\n    accessTokenRaw: null,\n    error: null,\n    featureFlags: [],\n    idToken: null,\n    idTokenRaw: null,\n    isAuthenticated: false,\n    isLoading: true,\n    organization: null,\n    permissions: [],\n    user: null,\n    userOrganizations: null\n  });\n\n  useEffect(() => {\n    refreshData();\n  }, []);\n\n  const refreshData = async () => {\n    const setupUrl = `${apiPath}/setup`;\n    const res = await fetch(setupUrl);\n    const kindeData = await res.json();\n    if (res.status == 200) {\n      setState({\n        ...kindeData\n      });\n    }\n    if (res.ok) {\n      setState({...kindeData, isLoading: false});\n    } else {\n      setState((prev) => ({\n        ...prev,\n        isLoading: false,\n        error: res.statusText || 'An error occurred'\n      }));\n    }\n  };\n\n  /**\n   *\n   * @param {string} code\n   * @param {string | number | boolean} defaultValue\n   * @param {import('../../types.js').KindeFlagTypeCode} flagType\n   * @returns {import('../../types.js').KindeFlag}\n   */\n  const getFlag = (code, defaultValue, flagType) => {\n    // @ts-ignore\n    const flags = state.featureFlags || [];\n    // @ts-ignore\n    const flag = flags && flags[code] ? flags[code] : {};\n\n    if (flag == {} && defaultValue == undefined) {\n      throw Error(\n        `Flag ${code} was not found, and no default value has been provided`\n      );\n    }\n\n    if (flagType && flag.t && flagType !== flag.t) {\n      throw Error(\n        // @ts-ignore\n        `Flag ${code} is of type ${flagDataTypeMap[flag.t]} - requested type ${\n          flagDataTypeMap[flagType]\n        }`\n      );\n    }\n    return {\n      code,\n      // @ts-ignore\n      type: flagDataTypeMap[flag.t || flagType],\n      value: flag.v == null ? defaultValue : flag.v,\n      is_default: flag.v == null,\n      defaultValue: defaultValue\n    };\n  };\n\n  /**\n   *\n   * @param {string} code\n   * @param {boolean} defaultValue\n   * @returns {boolean | undefined}\n   */\n  const getBooleanFlag = (code, defaultValue) => {\n    try {\n      const flag = getFlag(code, defaultValue, 'b');\n      return flag.value;\n    } catch (err) {\n      if (config.isDebugMode) {\n        console.error(err);\n      }\n    }\n  };\n\n  /**\n   *\n   * @param {string} code\n   * @param {string} defaultValue\n   * @returns {string | undefined}\n   */\n  const getStringFlag = (code, defaultValue) => {\n    try {\n      const flag = getFlag(code, defaultValue, 's');\n      return flag.value;\n    } catch (err) {\n      if (config.isDebugMode) {\n        console.error(err);\n      }\n      err;\n    }\n  };\n\n  /**\n   *\n   * @param {string} code\n   * @param {number} defaultValue\n   * @returns {number | undefined}\n   */\n  const getIntegerFlag = (code, defaultValue) => {\n    try {\n      const flag = getFlag(code, defaultValue, 'i');\n      return flag.value;\n    } catch (err) {\n      if (config.isDebugMode) {\n        console.error(err);\n      }\n      err;\n    }\n  };\n\n  /**\n   *\n   * @param {string} claim\n   * @param {\"access_token\" | \"id_token\"} tokenKey\n   * @returns\n   */\n  const getClaim = (claim, tokenKey = 'access_token') => {\n    const token =\n      tokenKey === 'access_token' ? state.accessToken : state.idToken;\n    return token ? {name: claim, value: token[claim]} : null;\n  };\n\n  /**\n   * @returns {import('../../types.js').KindeAccessToken | null}\n   */\n  const getAccessToken = () => {\n    return state.accessToken;\n  };\n  /**\n   * @returns {string | null}\n   */\n  const getToken = () => {\n    return state.accessTokenEncoded;\n  };\n\n  /**\n   * @returns {string | null}\n   */\n  const getAccessTokenRaw = () => {\n    return state.accessTokenEncoded;\n  };\n\n  /**\n   * @returns {string | null}\n   */\n  const getIdTokenRaw = () => {\n    return state.idTokenRaw;\n  };\n  /**\n   * @returns {import('../../types.js').KindeIdToken | null}\n   */\n  const getIdToken = () => {\n    return state.idToken;\n  };\n  /**\n   * @returns {import('../../types.js').KindeOrganization | null}\n   */\n  const getOrganization = () => {\n    return state.organization;\n  };\n  /**\n   * @returns {import('../../types.js').KindePermissions | never[]}\n   */\n  const getPermissions = () => {\n    return state.permissions;\n  };\n  /**\n   * @returns {import('../../types.js').KindeOrganizations | never[]}\n   */\n  const getUserOrganizations = () => {\n    return state.userOrganizations;\n  };\n  /**\n   *\n   * @param {string} key\n   * @returns {import('../../types.js').KindePermission}\n   */\n  const getPermission = (key) => {\n    if (!state.permissions) return {isGranted: false, orgCode: null};\n\n    return {\n      isGranted: state.permissions.permissions?.some((p) => p === key),\n      orgCode: state.organization?.orgCode\n    };\n  };\n\n  return {\n    ...state,\n    isAuthenticated: !!state.user,\n    getUser: () => state.user,\n    getIdTokenRaw,\n    getPermission,\n    getBooleanFlag,\n    getIntegerFlag,\n    getFlag,\n    getStringFlag,\n    getClaim,\n    getAccessToken,\n    getToken,\n    getAccessTokenRaw,\n    getIdToken,\n    getOrganization,\n    getPermissions,\n    getUserOrganizations,\n    refreshData\n  };\n};\n"],"names":["removeTrailingSlash","url","trim","endsWith","slice","KINDE_SITE_URL","process","env","KINDE_AUTH_API_PATH","NEXT_PUBLIC_KINDE_AUTH_API_PATH","KINDE_POST_LOGIN_REDIRECT_URL","KINDE_POST_LOGIN_URL_REDIRECT_URL","KINDE_POST_LOGOUT_REDIRECT_URL","KINDE_ISSUER_URL","KINDE_CLIENT_ID","KINDE_CLIENT_SECRET","KINDE_AUDIENCE","KINDE_COOKIE_DOMAIN","KINDE_SCOPE","config","isDebugMode","KINDE_DEBUG_MODE","apiPath","initialState","accessToken","idToken","isAuthenticated","isLoading","organization","permissions","user","userOrganizations","getAccessToken","getBooleanFlag","getClaim","getFlag","getIdToken","getIntegerFlag","getOrganization","getPermission","getPermissions","getStringFlag","getToken","getUser","getUserOrganizations","refreshData","SESSION_PREFIX","redirectURL","postLoginRedirectURL","issuerURL","clientID","clientSecret","postLogoutRedirectURL","audience","split","cookieDomain","responseType","codeChallengeMethod","redirectRoutes","callback","concat","issuerRoutes","logout","login","register","token","profile","clientOptions","authDomain","clientId","logoutRedirectURL","frameworkVersion","scope","grantType","flagDataTypeMap","s","i","b","AuthContext","createContext","_objectSpread","tokenFetcher","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","fetch","sent","t0","Error","ok","json","abrupt","status","stop","_x","apply","this","arguments","children","orgName","props","_objectWithoutProperties","_excluded","React","createElement","_extends","href","_ref2","setupUrl","useCallback","checkSession","_callee2","tokens","_accessToken","_accessTokenEncoded","featureFlags","_idToken","_organization","_permissions","_user","_userOrganizations","_getAccessToken","_getAccessTokenRaw","getAccessTokenEncoded","_getToken","_getIdToken","_getIdTokenRaw","_getPermissions","_getOrganization","_getUser","_getUserOrganizations","_getClaim","_getFlag","_getBooleanFlag","_getStringFlag","_getIntegerFlag","_getPermission","_context2","undefined","accessTokenEncoded","getAccessTokenRaw","getIdTokenRaw","idTokenRaw","claim","length","name","value","code","defaultValue","flagType","flags","flag","Object","keys","t","type","v","is_default","err","console","error","key","isGranted","some","p","orgCode","setState","previous","accessTokenRaw","idTokenEncoded","_useState2","_slicedToArray","useState","state","useEffect","checkLoading","_ref4","_callee3","_context3","Provider","authUrlParams","params","URLSearchParams","paramsObj","org_code","_postLoginRedirectURL","startsWith","host","window","location","origin","post_login_redirect_url","append","authUrl","toString","_token$access_token","_accessTokenPayload$a","access_token","accessTokenHeader","jwtDecoder","TokenPart","header","accessTokenPayload","isAudienceValid","aud","includes","_toConsumableArray","iss","alg","exp","Math","floor","Date","now","useContext","res","kindeData","statusText","_state$permissions$pe","_state$organization"],"mappings":"u0TAAO,SAASA,EAAoBC,GAClC,GAAIA,QAQJ,OANAA,EAAMA,EAAIC,QAEFC,SAAS,OACfF,EAAMA,EAAIG,MAAM,GAAI,IAGfH,CACT,CCJA,IA2BMI,EAAiBL,EAAoBM,QAAQC,IAAIF,gBAGjDG,EACJR,EAAoBM,QAAQC,IAAIE,kCAChCT,EAAoBM,QAAQC,IAAIC,sBAChC,YAEIE,EACJV,EAAoBM,QAAQC,IAAIG,gCAChCV,EAAoBM,QAAQC,IAAII,mCAC5BC,EAAiCZ,EACrCM,QAAQC,IAAIK,gCAGRC,EAAmBb,EAAoBM,QAAQC,IAAIM,kBACnDC,EAAkBR,QAAQC,IAAIO,gBAC9BC,EAAsBT,QAAQC,IAAIQ,oBAClCC,EAAiBV,QAAQC,IAAIS,eAC7BC,EAAsBjB,EAC1BM,QAAQC,IAAIU,qBAERC,EAAcZ,QAAQC,IAAIW,aAAe,+BAIlCC,EAAS,CACpBC,YAHmD,SAAjCd,QAAQC,IAAIc,iBAI9BC,QAASd,EACTe,aAxDmB,CACnBC,YAAa,KACbC,QAAS,KACTC,iBAAiB,EACjBC,WAAW,EACXC,aAAc,KACdC,YAAa,GACbC,KAAM,KACNC,kBAAmB,GACnBC,eAAgB,WAAF,OAAQ,IAAI,EAC1BC,eAAgB,WAAF,OAAQ,IAAI,EAC1BC,SAAU,WAAF,OAAQ,IAAI,EACpBC,QAAS,WAAF,OAAQ,IAAI,EACnBC,WAAY,WAAF,OAAQ,IAAI,EACtBC,eAAgB,WAAF,OAAQ,IAAI,EAC1BC,gBAAiB,WAAF,OAAQ,IAAI,EAC3BC,cAAe,WAAF,OAAQ,IAAI,EACzBC,eAAgB,WAAF,MAAQ,EAAE,EACxBC,cAAe,WAAF,OAAQ,IAAI,EACzBC,SAAU,WAAF,OAAQ,IAAI,EACpBC,QAAS,WAAF,OAAQ,IAAI,EACnBC,qBAAsB,WAAF,OAAQ,IAAI,EAChCC,YAAa,WAAF,OAAQ,IAAI,GAmCvBC,eAhCqB,gBAiCrBC,YAAa1C,EACb2C,qBAAsBtC,EACtBuC,UAAWpC,EACXqC,SAAUpC,EACVqC,aAAcpC,EACdqC,sBAAuBxC,EACvByC,SAAUrC,EAAiBA,EAAesC,MAAM,KAAO,GACvDC,aAActC,EACduC,aAAc,OACdC,oBAAqB,OACrBC,eAAgB,CACdC,SAAQ,GAAAC,OAAKpD,EAAmB,oBAElCqD,aAAc,CACZC,OAAQ,UACRC,MAAO,eACPC,SAAU,eACVC,MAAO,gBACPC,QAAS,2BAEXC,cAAe,CACbd,SAAUrC,EAAiBA,EAAesC,MAAM,KAAO,GACvDc,WAAYvD,GAAoB,GAChCwD,SAAUvD,GAAmB,GAC7BqC,aAAcpC,GAAuB,GACrCuD,kBAAmB1D,GAAkC,GACrDmC,YAAWa,GAAAA,OAAKvD,EAAwC,4BACxDkE,iBC1FmB,QD2FnBC,MAAOtD,GAETuD,UAAW,sBEpFAC,EAAkB,CAC7BC,EAAG,SACHC,EAAG,UACHC,EAAG,WAGCC,EAAcC,EAAaA,cAAAC,KAC5B7D,EAAOI,eAcN0D,EAAY,WAAA,IAAAC,EAAAC,EAAAC,IAAAC,MAAG,SAAAC,EAAOrF,GAAG,IAAAsF,EAAA,OAAAH,IAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGVC,MAAM3F,GAAI,KAAA,EAA3BsF,EAAQE,EAAAI,KAAAJ,EAAAE,KAAA,EAAA,MAAA,KAAA,EAAA,MAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,MAAA,GAEF,IAAIM,MAAM,yBAAwB,KAAA,EAAA,IAGtCR,EAASS,GAAE,CAAAP,EAAAE,KAAA,GAAA,KAAA,CAAA,OAAAF,EAAAE,KAAA,GACAJ,EAASU,OAAM,KAAA,GAAA,OAAAR,EAAAS,OAAAT,SAAAA,EAAAI,MAAA,KAAA,GAAA,GACC,MAApBN,EAASY,OAAc,CAAAV,EAAAE,KAAA,GAAA,KAAA,CAAA,MAC1B,IAAII,MAAM,yBAAwB,KAAA,GAAA,IAAA,MAAA,OAAAN,EAAAW,OAAA,GAAAd,EAAA,KAAA,CAAA,CAAA,EAAA,IAE3C,KAAA,OAbKL,SAAYoB,GAAA,OAAAnB,EAAAoB,MAAAC,KAAAC,UAAA,CAAA,CAAA,qOCjBX,SAAsBtB,GAAgC,IAA9BuB,EAAQvB,EAARuB,SAAUC,EAAOxB,EAAPwB,QAAYC,EAAKC,EAAA1B,EAAA2B,GACxD,OACEC,UAAAC,cAAA,IAAAC,EAAA,CACEC,KAAIrD,GAAAA,OAAKzC,EAAOG,QAAO,eAAAsC,OACrB8C,EAAO9C,aAAAA,OAAgB8C,GAAY,KAEjCC,GAEHF,EAGP,wBD0B6B,SAAHS,GAAmB,IAAdT,EAAQS,EAART,SACvBU,EAAQvD,GAAAA,OAAMzC,EAAOG,QAAe,UAEpCuB,EAAcuE,EAAAA,aAAY,WAC9BC,GACF,GAAG,CAAC,iBAEEA,EAAeD,EAAAA,YAAWjC,EAAAC,IAAAC,MAAC,SAAAiC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAA3D,IAAAI,MAAA,SAAAwD,GAAA,cAAAA,EAAAtD,KAAAsD,EAAArD,MAAA,KAAA,EAAA,OAAAqD,EAAAtD,KAAA,EAAAsD,EAAArD,KAAA,EAERV,EAAakC,GAAS,KAAA,EAA/B,GAEE8B,OAFR1B,EAAMyB,EAAAnD,MAEW,CAAAmD,EAAArD,KAAA,EAAA,KAAA,CAAA,OAAAqD,EAAA9C,OAAA,UAAA,KAAA,EAGrB1E,EAQE+F,EARF/F,YACA0H,EAOE3B,EAPF2B,mBACAxB,EAMEH,EANFG,aACAjG,EAKE8F,EALF9F,QACAG,EAIE2F,EAJF3F,aACAC,EAGE0F,EAHF1F,YACAC,EAEEyF,EAFFzF,KACAC,EACEwF,EADFxF,kBAGIC,EAAiB,WAAH,OAASR,CAAW,EAClC2H,EAAoB,WAAH,OAASD,CAAkB,EAC5ChB,EAAwB,WAAH,OAASgB,CAAkB,EAChDxG,EAAW,WAAH,OAASwG,CAAkB,EACnC9G,EAAa,WAAH,OAASX,CAAO,EAC1B2H,EAAgB,WAAH,OAASC,CAAU,EAChC7G,EAAiB,WAAH,OAASX,CAAW,EAClCS,EAAkB,WAAH,OAASV,CAAY,EACpCe,EAAU,WAAH,OAASb,CAAI,EACpBc,EAAuB,WAAH,OAASb,CAAiB,EAO9CG,EAAW,SAACoH,GAAqC,IAC/CrF,EACS,kBAFgBuC,UAAA+C,OAAA,QAAAN,IAAAzC,UAAA,GAAAA,UAAA,GAAG,gBAEFe,EAAO/F,YAAc+F,EAAO9F,QAE5D,OAAOwC,EAAQ,CAACuF,KAAMF,EAAOG,MAAOxF,EAAMqF,IAAU,MAUhDnH,EAAU,SAACuH,EAAMC,EAAcC,GACnC,IAAMC,EAAQnC,EACRoC,EAAOD,GAASA,EAAMH,GAAQG,EAAMH,GAAQ,GAElD,GAAiC,IAA7BK,OAAOC,KAAKF,GAAMP,QAAgCN,MAAhBU,EACpC,MAAM5D,MAAKnC,QAAAA,OACD8F,6DAKZ,GAAIE,GAAYE,EAAKG,GAAKL,IAAaE,EAAKG,EAC1C,MAAMlE,MAAKnC,QAAAA,OACD8F,kBAAI9F,OAEVc,EAAgBoF,EAAKG,GAAE,sBAAArG,OACJc,EAAgBkF,KAGzC,MAAO,CAELF,KAAAA,EAEAQ,KAAMxF,EAAgBoF,EAAKG,GAAKL,GAEhCH,MAAiB,MAAVK,EAAKK,EAAYR,EAAeG,EAAKK,EAE5CC,WAAsB,MAAVN,EAAKK,EACjBR,aAAcA,IAUZ1H,EAAiB,SAACyH,EAAMC,GAC5B,IAEE,OADaxH,EAAQuH,EAAMC,EAAc,KAC7BF,KACb,CAAC,MAAOY,GACHlJ,EAAOC,aACTkJ,QAAQC,MAAMF,EAElB,GASI5H,EAAgB,SAACiH,EAAMC,GAC3B,IAEE,OADaxH,EAAQuH,EAAMC,EAAc,KAC7BF,KACb,CAAC,MAAOY,GACHlJ,EAAOC,aACTkJ,QAAQC,MAAMF,EAElB,GASIhI,EAAiB,SAACqH,EAAMC,GAC5B,IAEE,OADaxH,EAAQuH,EAAMC,EAAc,KAC7BF,KACb,CAAC,MAAOY,GACHlJ,EAAOC,aACTkJ,QAAQC,MAAMF,EAElB,GAQI9H,EAAgB,SAACiI,GACrB,MAAO,CACLC,UAAW5I,EAAYA,YAAY6I,MAAK,SAACC,GAAC,OAAKA,IAAMH,KACrDI,QAAShJ,EAAagJ,UAI1BC,GAAS,SAACC,GAAQ,OAAA9F,EAAAA,EAAA,CAAA,EACb8F,GAAQ,CAAA,EAAA,CACXtJ,YAAAA,EACA0H,mBAAAA,EACA6B,eAAgB7B,EAChBzH,QAAAA,EACA4H,WAAAA,EACA2B,eAAgB3B,EAChB1H,WAAW,EACXC,aAAAA,EACAC,YAAAA,EACAC,KAAAA,EACAC,kBAAAA,EACAC,eAAAA,EACAmH,kBAAAA,EACAjB,sBAAAA,EACAjG,eAAAA,EACAC,SAAAA,EACAC,QAAAA,EACAC,WAAAA,EACAgH,cAAAA,EACA/G,eAAAA,EACAC,gBAAAA,EACAC,cAAAA,EACAC,eAAAA,EACAC,cAAAA,EACAC,SAAAA,EACAC,QAAAA,EACAC,qBAAAA,EACAC,YAAAA,GAAW,IACTmG,EAAArD,KAAA,GAAA,MAAA,KAAA,GAAAqD,EAAAtD,KAAA,GAAAsD,EAAAlD,GAAAkD,EAAA,MAAA,GAEA7H,EAAOC,aACTkJ,QAAQC,MAAKvB,EAAAlD,IAGf+E,GAAS,SAACC,GAAQ,OAAA9F,EAAAA,EAAA,CAAA,EAAU8F,GAAQ,CAAA,EAAA,CAAEnJ,WAAW,EAAO4I,MAAKvB,EAAAlD,IAAO,IAAI,KAAA,GAAA,IAAA,MAAA,OAAAkD,EAAA5C,OAAA,GAAAkB,EAAA,KAAA,CAAA,CAAA,EAAA,KAAA,KAEzE,CAACH,IAIF8D,EAAAC,EAFwBC,EAAAA,SAAQnG,KAC7B7D,EAAOI,eACV,GAFK6J,EAAKH,EAAA,GAAEJ,EAAQI,EAAA,GAKtBI,EAAAA,WAAU,WACR,IAAMC,EAAY,WAAA,IAAAC,EAAApG,EAAAC,IAAAC,MAAG,SAAAmG,IAAA,OAAApG,IAAAI,MAAA,SAAAiG,GAAA,cAAAA,EAAA/F,KAAA+F,EAAA9F,MAAA,KAAA,EAAA,OAAA8F,EAAA9F,KAAA,EACb0B,IAAc,KAAA,EACpBwD,GAAS,SAACC,GAAQ,OAAA9F,EAAAA,EAAA,CAAA,EACb8F,GAAQ,CAAA,EAAA,CACXnJ,WAAW,GAAK,IACd,KAAA,EAAA,IAAA,MAAA,OAAA8J,EAAArF,OAAA,GAAAoF,EACL,KAAA,OAAA,WANiB,OAAAD,EAAAjF,MAAAC,KAAAC,UAAA,EAAA,GAOb4E,EAAMtJ,MACTwJ,GAEJ,GAAG,CAACF,EAAMtJ,OAGV,IACEA,EA2BEsJ,EA3BFtJ,KACAN,EA0BE4J,EA1BF5J,YACAuJ,EAyBEK,EAzBFL,eACA7B,EAwBEkC,EAxBFlC,mBACAzH,EAuBE2J,EAvBF3J,QACAuJ,EAsBEI,EAtBFJ,eACA3B,EAqBE+B,EArBF/B,WACArH,EAoBEoJ,EApBFpJ,eACAmH,EAmBEiC,EAnBFjC,kBACAC,EAkBEgC,EAlBFhC,cACA1G,EAiBE0I,EAjBF1I,SACAR,EAgBEkJ,EAhBFlJ,SACAC,EAeEiJ,EAfFjJ,QACAC,EAcEgJ,EAdFhJ,WACAH,EAaEmJ,EAbFnJ,eACAQ,EAYE2I,EAZF3I,cACAJ,EAWE+I,EAXF/I,eACAC,EAUE8I,EAVF9I,gBACAC,EASE6I,EATF7I,cACAC,EAQE4I,EARF5I,eACAG,EAOEyI,EAPFzI,QACAC,EAMEwI,EANFxI,qBACAf,EAKEuJ,EALFvJ,YACAD,EAIEwJ,EAJFxJ,aACAG,EAGEqJ,EAHFrJ,kBACAwI,EAEEa,EAFFb,MACA5I,EACEyJ,EADFzJ,UAGF,OACEmF,UAAAC,cAACjC,EAAY4G,SAAQ,CACnBjC,MAAO,CACL3H,KAAAA,EACAyI,MAAAA,EACA/I,YAAAA,EACAC,QAAAA,EACAyH,mBAAAA,EACA6B,eAAAA,EACAC,eAAAA,EACA3B,WAAAA,EACArH,eAAAA,EACAmH,kBAAAA,EACAzG,SAAAA,EACAR,SAAAA,EACAC,QAAAA,EACAC,WAAAA,EACAgH,cAAAA,EACAnH,eAAAA,EACAQ,cAAAA,EACAJ,eAAAA,EACAC,gBAAAA,EACAC,cAAAA,EACAC,eAAAA,EACAG,QAAAA,EACAC,qBAAAA,EACAf,YAAAA,EACAD,aAAAA,EACAG,kBAAAA,EACAJ,UAAAA,EACAD,kBAAmBI,EACnBe,YAAAA,IAGD4D,EAGP,oBEtTO,SAAkBvB,GAMtB,IALDuB,EAAQvB,EAARuB,SACAzD,EAAoBkC,EAApBlC,qBACA4H,EAAO1F,EAAP0F,QACAe,EAAazG,EAAbyG,cACGhF,EAAKC,EAAA1B,EAAA2B,GAEF+E,EAAS,IAAIC,gBACfC,EAAY,CAAA,EAEhB,GADe,MAAXlB,IAAiBkB,EAAUC,SAAWnB,GACd,MAAxB5H,EAA8B,CAAA,IAAAgJ,EAChC,GAAwB,QAAxBA,EAAIhJ,SAAoB,IAAAgJ,GAApBA,EAAsBC,WAAW,KAAM,CACzC,IAAMC,EACc,oBAAXC,OACHA,OAAOC,SAASC,OAChB/L,QAAQC,IAAIF,eAClB2C,EAAoB,GAAAY,OAAMsI,GAAItI,OAAGZ,EACnC,CACA8I,EAAUQ,wBAA0BtJ,CACtC,CAIA,IAAK,IAAMwH,KAFXsB,EAAS9G,EAAAA,KAAO2G,GAAkBG,GAELF,EAAOW,OAAO/B,EAAKsB,EAAUtB,IAE1D,IAAMgC,KAAO5I,OAAMzC,EAAOG,kBAAOsC,OAC/BgI,EAAMhI,IAAAA,OAAOgI,EAAOa,YAAe,IAErC,OACE3F,UAAAC,cAAA,IAAAC,EAAA,CAAGC,KAAMuF,GAAa7F,GACnBF,EAGP,qBCnCO,SAAmBvB,GAA8C,IAA5CuB,EAAQvB,EAARuB,SAAUrD,EAAqB8B,EAArB9B,sBAA0BuD,EAAKC,EAAA1B,EAAA2B,GACnE,OACEC,UAAAC,cAAA,IAAAC,EAAA,CACEC,KAAIrD,GAAAA,OAAKzC,EAAOG,QAAO,WAAAsC,OACrBR,EAAqBQ,6BAAAA,OACYR,GAC7B,GAAE,aAGJuD,GAEHF,EAGP,uBCXO,SAAqBvB,GAMzB,IALDuB,EAAQvB,EAARuB,SACAmE,EAAO1F,EAAP0F,QACA5H,EAAoBkC,EAApBlC,qBACA2I,EAAazG,EAAbyG,cACGhF,EAAKC,EAAA1B,EAAA2B,GAEJ+E,EAAS,IAAIC,gBACbC,EAAY,CAAA,EAOhB,IAAK,IAAMtB,KANI,MAAXI,IAAiBkB,EAAUC,SAAWnB,GACd,MAAxB5H,IACF8I,EAAUQ,wBAA0BtJ,GAEtC8I,EAAS9G,EAAAA,KAAO2G,GAAkBG,GAELF,EAAOW,OAAO/B,EAAKsB,EAAUtB,IAC1D,OACE1D,UAAAC,cAAA,IAAAC,EAAA,CACEC,QAAIrD,OAAKzC,EAAOG,qBAAOsC,OACrBgI,EAAMhI,IAAAA,OAAOgI,EAAOa,YAAe,KAEjC9F,GAEHF,EAGP,uBCxCqB,SAACxC,GAAU,IAAAyI,EAAAC,EACxBnL,EAAiCkL,QAAtBA,EAAGzI,aAAK,EAALA,EAAO2I,oBAAYF,IAAAA,EAAAA,EAAIzI,EAC3C,IAAKzC,EAAa,OAAO,EAEzB,IAAMqL,EAAoBC,EAAUA,WAACtL,EAAauL,EAASA,UAACC,QACtDC,EAAqBH,aAAWtL,GAClC0L,GAAkB,EAMtB,OALI/L,EAAOkC,WACT6J,EACED,EAAmBE,MACnBR,EAAAM,EAAmBE,KAAIC,SAAQ9G,MAAAqG,EAAAU,EAAIlM,EAAOkC,eAG5C4J,EAAmBK,KAAOnM,EAAO8B,WACR,SAAzB4J,EAAkBU,KAClBN,EAAmBO,IAAMC,KAAKC,MAAMC,KAAKC,MAAQ,MACjDV,EAMJ,uBLD4B,WAAH,OAASW,EAAAA,WAAW/I,EAAY,gCMhBpB,WAIhC,IAHHxD,EAAOkF,UAAA+C,eAAAN,IAAAzC,UAAA,GAAAA,UAAA,GAAGlG,QAAQC,IAAIE,iCACpBH,QAAQC,IAAIC,qBACZ,YAeAyK,EAAAC,EAbwBC,EAAAA,SAAS,CACjC3J,YAAa,KACbuJ,eAAgB,KAChBR,MAAO,KACP7C,aAAc,GACdjG,QAAS,KACT4H,WAAY,KACZ3H,iBAAiB,EACjBC,WAAW,EACXC,aAAc,KACdC,YAAa,GACbC,KAAM,KACNC,kBAAmB,OACnB,GAbKqJ,EAAKH,EAAA,GAAEJ,EAAQI,EAAA,GAetBI,EAAAA,WAAU,WACRxI,GACD,GAAE,IAEH,IAAMA,EAAW,WAAA,IAAAqC,EAAAC,EAAAC,IAAAC,MAAG,SAAAC,IAAA,IAAA6B,EAAA2G,EAAAC,EAAA,OAAA3I,IAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EACS,OAArBwB,EAAQ,GAAAvD,OAAMtC,EAAO,UAAAmE,EAAAE,KAAA,EACTC,MAAMuB,GAAS,KAAA,EAAxB,OAAH2G,EAAGrI,EAAAI,KAAAJ,EAAAE,KAAA,EACemI,EAAI7H,OAAM,KAAA,EAA5B8H,EAAStI,EAAAI,KACG,KAAdiI,EAAI3H,QACN0E,EAAQ7F,EACH+I,GAAAA,IAGHD,EAAI9H,GACN6E,EAAQ7F,EAAAA,KAAK+I,GAAS,CAAA,EAAA,CAAEpM,WAAW,KAEnCkJ,GAAS,SAACnF,GAAI,OAAAV,EAAAA,EAAA,CAAA,EACTU,GAAI,CAAA,EAAA,CACP/D,WAAW,EACX4I,MAAOuD,EAAIE,YAAc,qBAAmB,IAE/C,KAAA,EAAA,IAAA,MAAA,OAAAvI,EAAAW,OAAA,GAAAd,EACF,KAAA,OAAA,WAlBgB,OAAAJ,EAAAoB,MAAAC,KAAAC,UAAA,EAAA,GA2BXrE,EAAU,SAACuH,EAAMC,EAAcC,GAEnC,IAAMC,EAAQuB,EAAM1D,cAAgB,GAE9BoC,EAAOD,GAASA,EAAMH,GAAQG,EAAMH,GAAQ,GAElD,GAAII,GAAQ,CAAA,GAAsBb,MAAhBU,EAChB,MAAM5D,MAAKnC,QAAAA,OACD8F,6DAIZ,GAAIE,GAAYE,EAAKG,GAAKL,IAAaE,EAAKG,EAC1C,MAAMlE,MACJ,QAAAnC,OACQ8F,EAAI,gBAAA9F,OAAec,EAAgBoF,EAAKG,GAAE,sBAAArG,OAChDc,EAAgBkF,KAItB,MAAO,CACLF,KAAAA,EAEAQ,KAAMxF,EAAgBoF,EAAKG,GAAKL,GAChCH,MAAiB,MAAVK,EAAKK,EAAYR,EAAeG,EAAKK,EAC5CC,WAAsB,MAAVN,EAAKK,EACjBR,aAAcA,IAqIlB,OAAA3E,EAAAA,EAAA,CAAA,EACKoG,GAAK,CAAA,EAAA,CACR1J,kBAAmB0J,EAAMtJ,KACzBa,QAAS,WAAF,OAAQyI,EAAMtJ,IAAI,EACzBsH,cA7CoB,WACpB,OAAOgC,EAAM/B,YA6Cb9G,cAdoB,SAACiI,GAAQ,IAAAyD,EAAAC,EAC7B,OAAK9C,EAAMvJ,YAEJ,CACL4I,UAAwCwD,QAA/BA,EAAE7C,EAAMvJ,YAAYA,uBAAWoM,SAA7BA,EAA+BvD,MAAK,SAACC,GAAC,OAAKA,IAAMH,KAC5DI,QAA2BsD,QAApBA,EAAE9C,EAAMxJ,oBAANsM,IAAkBA,OAAlBA,EAAAA,EAAoBtD,SAJA,CAACH,WAAW,EAAOG,QAAS,OAc3D3I,eAjIqB,SAACyH,EAAMC,GAC5B,IAEE,OADaxH,EAAQuH,EAAMC,EAAc,KAC7BF,KACb,CAAC,MAAOY,GACHlJ,EAAOC,aACTkJ,QAAQC,MAAMF,EAElB,GA0HAhI,eA/FqB,SAACqH,EAAMC,GAC5B,IAEE,OADaxH,EAAQuH,EAAMC,EAAc,KAC7BF,KACb,CAAC,MAAOY,GACHlJ,EAAOC,aACTkJ,QAAQC,MAAMF,EAGlB,GAuFAlI,QAAAA,EACAM,cAnHoB,SAACiH,EAAMC,GAC3B,IAEE,OADaxH,EAAQuH,EAAMC,EAAc,KAC7BF,KACb,CAAC,MAAOY,GACHlJ,EAAOC,aACTkJ,QAAQC,MAAMF,EAGlB,GA2GAnI,SAhFe,SAACoH,GAAqC,IAC/CrF,EACS,kBAFgBuC,UAAA+C,OAAA,QAAAN,IAAAzC,UAAA,GAAAA,UAAA,GAAG,gBAEF4E,EAAM5J,YAAc4J,EAAM3J,QAC1D,OAAOwC,EAAQ,CAACuF,KAAMF,EAAOG,MAAOxF,EAAMqF,IAAU,MA8EpDtH,eAxEqB,WACrB,OAAOoJ,EAAM5J,aAwEbkB,SAnEe,WACf,OAAO0I,EAAMlC,oBAmEbC,kBA7DwB,WACxB,OAAOiC,EAAMlC,oBA6Db9G,WAjDiB,WACjB,OAAOgJ,EAAM3J,SAiDba,gBA5CsB,WACtB,OAAO8I,EAAMxJ,cA4CbY,eAvCqB,WACrB,OAAO4I,EAAMvJ,aAuCbe,qBAlC2B,WAC3B,OAAOwI,EAAMrJ,mBAkCbc,YAAAA,GAEJ"}