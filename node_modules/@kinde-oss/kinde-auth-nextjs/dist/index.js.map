{"version":3,"file":"index.js","sources":["../src/utils/removeTrailingSlash.js","../src/config/index.js","../src/utils/version.js","../src/frontend/AuthProvider.jsx","../src/frontend/KindeBrowserClient.js","../src/utils/pageRouter/isTokenValid.js","../src/components/RegisterLink.js","../src/components/LoginLink.js","../src/components/LogoutLink.js","../src/components/CreateOrgLink.js"],"sourcesContent":["export function removeTrailingSlash(url) {\n  if (url === undefined || url === null) return undefined;\n\n  url = url.trim();\n\n  if (url.endsWith('/')) {\n    url = url.slice(0, -1);\n  }\n\n  return url;\n}\n","import {version} from '../utils/version';\nimport {removeTrailingSlash} from '../utils/removeTrailingSlash';\n\n/**\n * @type {import('../../types').KindeState}\n */\nconst initialState = {\n  accessToken: null,\n  idToken: null,\n  isAuthenticated: false,\n  isLoading: true,\n  organization: null,\n  permissions: [],\n  user: null,\n  userOrganizations: [],\n  getAccessToken: () => null,\n  getBooleanFlag: () => null,\n  getClaim: () => null,\n  getFlag: () => null,\n  getIdToken: () => null,\n  getIntegerFlag: () => null,\n  getOrganization: () => null,\n  getPermission: () => null,\n  getPermissions: () => [],\n  getStringFlag: () => null,\n  getToken: () => null,\n  getUser: () => null,\n  getUserOrganizations: () => null,\n  refreshData: () => null\n};\n\nconst SESSION_PREFIX = 'pkce-verifier';\n\nconst KINDE_SITE_URL = removeTrailingSlash(process.env.KINDE_SITE_URL);\n\n// We need to use NEXT_PUBLIC for frontend vars\nconst KINDE_AUTH_API_PATH =\n  removeTrailingSlash(process.env.NEXT_PUBLIC_KINDE_AUTH_API_PATH) ||\n  removeTrailingSlash(process.env.KINDE_AUTH_API_PATH) ||\n  '/api/auth';\n\nconst KINDE_POST_LOGIN_REDIRECT_URL =\n  removeTrailingSlash(process.env.KINDE_POST_LOGIN_REDIRECT_URL) ||\n  removeTrailingSlash(process.env.KINDE_POST_LOGIN_URL_REDIRECT_URL);\nconst KINDE_POST_LOGOUT_REDIRECT_URL = removeTrailingSlash(\n  process.env.KINDE_POST_LOGOUT_REDIRECT_URL\n);\n\nconst KINDE_ISSUER_URL = removeTrailingSlash(process.env.KINDE_ISSUER_URL);\nconst KINDE_CLIENT_ID = process.env.KINDE_CLIENT_ID;\nconst KINDE_CLIENT_SECRET = process.env.KINDE_CLIENT_SECRET;\nconst KINDE_AUDIENCE = process.env.KINDE_AUDIENCE;\nconst KINDE_COOKIE_DOMAIN = removeTrailingSlash(\n  process.env.KINDE_COOKIE_DOMAIN\n);\nconst KINDE_SCOPE = process.env.KINDE_SCOPE || 'openid profile email offline';\n\nconst isDebugMode = process.env.KINDE_DEBUG_MODE === 'true';\n\nexport const config = {\n  isDebugMode,\n  apiPath: KINDE_AUTH_API_PATH,\n  initialState,\n  SESSION_PREFIX,\n  redirectURL: KINDE_SITE_URL,\n  postLoginRedirectURL: KINDE_POST_LOGIN_REDIRECT_URL,\n  issuerURL: KINDE_ISSUER_URL,\n  clientID: KINDE_CLIENT_ID,\n  clientSecret: KINDE_CLIENT_SECRET,\n  postLogoutRedirectURL: KINDE_POST_LOGOUT_REDIRECT_URL,\n  audience: KINDE_AUDIENCE ? KINDE_AUDIENCE.split(' ') : '',\n  cookieDomain: KINDE_COOKIE_DOMAIN,\n  responseType: 'code',\n  codeChallengeMethod: 'S256',\n  redirectRoutes: {\n    callback: `${KINDE_AUTH_API_PATH}/kinde_callback`\n  },\n  issuerRoutes: {\n    logout: '/logout',\n    login: '/oauth2/auth',\n    register: '/oauth2/auth',\n    token: '/oauth2/token',\n    profile: '/oauth2/v2/user_profile'\n  },\n  clientOptions: {\n    audience: KINDE_AUDIENCE ? KINDE_AUDIENCE.split(' ') : '',\n    authDomain: KINDE_ISSUER_URL || '',\n    clientId: KINDE_CLIENT_ID || '',\n    clientSecret: KINDE_CLIENT_SECRET || '',\n    logoutRedirectURL: KINDE_POST_LOGOUT_REDIRECT_URL || '',\n    redirectURL: `${KINDE_SITE_URL}/api/auth/kinde_callback`,\n    frameworkVersion: version,\n    scope: KINDE_SCOPE\n  },\n  grantType: 'AUTHORIZATION_CODE'\n};\n","// Generated by genversion.\nexport const version = '2.4.6'\n","import {config} from '../config/index';\nimport {\n  createContext,\n  useContext,\n  useState,\n  useCallback,\n  useEffect\n} from 'react';\nimport React from 'react';\n/** @type {Record<import('../../types').KindeFlagTypeCode, import('../../types').KindeFlagTypeValue>} */\nexport const flagDataTypeMap = {\n  s: 'string',\n  i: 'integer',\n  b: 'boolean'\n};\n\nconst AuthContext = createContext({\n  ...config.initialState\n});\n\n/**\n *\n * @returns {import('../../types').KindeState}\n */\nexport const useKindeAuth = () => useContext(AuthContext);\n\n/**\n *\n * @param {string} url\n * @returns {Promise<import('../../types').KindeSetupResponse | undefined>}\n */\nconst tokenFetcher = async (url) => {\n  let response;\n  try {\n    response = await fetch(url);\n  } catch {\n    throw new Error('Failed to fetch token');\n  }\n\n  if (response.ok) {\n    return await response.json();\n  } else if (response.status === 401) {\n    throw new Error('Failed to fetch token');\n  }\n};\n\n/**\n *\n * @param {children: import('react').ReactNode, options?: {apiPath: string} | undefined} props\n * @returns\n */\nexport const KindeProvider = ({children}) => {\n  const setupUrl = `${config.apiPath}/setup`;\n\n  const refreshData = useCallback(() => {\n    checkSession();\n  }, ['checkSession']);\n\n  const checkSession = useCallback(async () => {\n    try {\n      const tokens = await tokenFetcher(setupUrl);\n\n      if (tokens == undefined) return;\n\n      const {\n        accessToken,\n        accessTokenEncoded,\n        featureFlags,\n        idToken,\n        organization,\n        permissions,\n        user,\n        userOrganizations\n      } = tokens;\n\n      const getAccessToken = () => accessToken;\n      const getAccessTokenRaw = () => accessTokenEncoded;\n      const getAccessTokenEncoded = () => accessTokenEncoded;\n      const getToken = () => accessTokenEncoded;\n      const getIdToken = () => idToken;\n      const getIdTokenRaw = () => idTokenRaw;\n      const getPermissions = () => permissions;\n      const getOrganization = () => organization;\n      const getUser = () => user;\n      const getUserOrganizations = () => userOrganizations;\n\n      /**\n       *\n       * @param {string} claim\n       * @param {\"access_token\" | \"id_token\"} tokenKey\n       */\n      const getClaim = (claim, tokenKey = 'access_token') => {\n        const token =\n          tokenKey === 'access_token' ? tokens.accessToken : tokens.idToken;\n        // @ts-ignore\n        return token ? {name: claim, value: token[claim]} : null;\n      };\n\n      /**\n       *\n       * @param {string} code\n       * @param {number | string | boolean} defaultValue\n       * @param {import('../../types').KindeFlagTypeCode} flagType\n       * @returns {import('../../types').KindeFlag}\n       */\n      const getFlag = (code, defaultValue, flagType) => {\n        const flags = featureFlags;\n        const flag = flags && flags[code] ? flags[code] : {};\n\n        if (Object.keys(flag).length === 0 && defaultValue == undefined) {\n          throw Error(\n            `Flag ${code} was not found, and no default value has been provided`\n          );\n        }\n\n        // @ts-ignore\n        if (flagType && flag.t && flagType !== flag.t) {\n          throw Error(\n            `Flag ${code} is of type ${\n              // @ts-ignore\n              flagDataTypeMap[flag.t]\n            } - requested type ${flagDataTypeMap[flagType]}`\n          );\n        }\n        return {\n          // @ts-ignore\n          code,\n          // @ts-ignore\n          type: flagDataTypeMap[flag.t || flagType],\n          // @ts-ignore\n          value: flag.v == null ? defaultValue : flag.v,\n          // @ts-ignore\n          is_default: flag.v == null,\n          defaultValue: defaultValue\n        };\n      };\n\n      /**\n       *\n       * @param {string} code\n       * @param {boolean} defaultValue\n       * @returns {boolean | undefined | null}\n       */\n      const getBooleanFlag = (code, defaultValue) => {\n        try {\n          const flag = getFlag(code, defaultValue, 'b');\n          return flag.value;\n        } catch (err) {\n          if (config.isDebugMode) {\n            console.error(err);\n          }\n        }\n      };\n\n      /**\n       *\n       * @param {string} code\n       * @param {string} defaultValue\n       * @returns {string | undefined | null}\n       */\n      const getStringFlag = (code, defaultValue) => {\n        try {\n          const flag = getFlag(code, defaultValue, 's');\n          return flag.value;\n        } catch (err) {\n          if (config.isDebugMode) {\n            console.error(err);\n          }\n        }\n      };\n\n      /**\n       *\n       * @param {string} code\n       * @param {number} defaultValue\n       * @returns {number | undefined | null}\n       */\n      const getIntegerFlag = (code, defaultValue) => {\n        try {\n          const flag = getFlag(code, defaultValue, 'i');\n          return flag.value;\n        } catch (err) {\n          if (config.isDebugMode) {\n            console.error(err);\n          }\n        }\n      };\n\n      /**\n       *\n       * @param {string} key\n       * @returns {import('../../types').KindePermission}\n       */\n      const getPermission = (key) => {\n        return {\n          isGranted: permissions.permissions.some((p) => p === key),\n          orgCode: organization.orgCode\n        };\n      };\n\n      setState((previous) => ({\n        ...previous,\n        accessToken,\n        accessTokenEncoded,\n        accessTokenRaw: accessTokenEncoded,\n        idToken,\n        idTokenRaw,\n        idTokenEncoded: idTokenRaw,\n        isLoading: false,\n        organization,\n        permissions,\n        user,\n        userOrganizations,\n        getAccessToken,\n        getAccessTokenRaw,\n        getAccessTokenEncoded,\n        getBooleanFlag,\n        getClaim,\n        getFlag,\n        getIdToken,\n        getIdTokenRaw,\n        getIntegerFlag,\n        getOrganization,\n        getPermission,\n        getPermissions,\n        getStringFlag,\n        getToken,\n        getUser,\n        getUserOrganizations,\n        refreshData\n      }));\n    } catch (error) {\n      if (config.isDebugMode) {\n        console.error(error);\n      }\n      // @ts-ignore\n      setState((previous) => ({...previous, isLoading: false, error: error}));\n    }\n  }, [setupUrl]);\n\n  const [state, setState] = useState({\n    ...config.initialState\n  });\n\n  // if you get the user set loading false\n  useEffect(() => {\n    const checkLoading = async () => {\n      await checkSession();\n      setState((previous) => ({\n        ...previous,\n        isLoading: false\n      }));\n    };\n    if (!state.user) {\n      checkLoading();\n    }\n  }, [state.user]);\n\n  // provide this stuff to the rest of your app\n  const {\n    user,\n    accessToken,\n    accessTokenRaw,\n    accessTokenEncoded,\n    idToken,\n    idTokenEncoded,\n    idTokenRaw,\n    getAccessToken,\n    getAccessTokenRaw,\n    getIdTokenRaw,\n    getToken,\n    getClaim,\n    getFlag,\n    getIdToken,\n    getBooleanFlag,\n    getStringFlag,\n    getIntegerFlag,\n    getOrganization,\n    getPermission,\n    getPermissions,\n    getUser,\n    getUserOrganizations,\n    permissions,\n    organization,\n    userOrganizations,\n    error,\n    isLoading\n  } = state;\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        error,\n        accessToken,\n        idToken,\n        accessTokenEncoded,\n        accessTokenRaw,\n        idTokenEncoded,\n        idTokenRaw,\n        getAccessToken,\n        getAccessTokenRaw,\n        getToken,\n        getClaim,\n        getFlag,\n        getIdToken,\n        getIdTokenRaw,\n        getBooleanFlag,\n        getStringFlag,\n        getIntegerFlag,\n        getOrganization,\n        getPermission,\n        getPermissions,\n        getUser,\n        getUserOrganizations,\n        permissions,\n        organization,\n        userOrganizations,\n        isLoading,\n        isAuthenticated: !!user,\n        refreshData\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import {useEffect, useState} from 'react';\nimport {flagDataTypeMap} from './AuthProvider.jsx';\nimport {config} from '../config/index.js';\n\n/**\n *\n * @returns {import('../../types.js').KindeState}\n */\nexport const useKindeBrowserClient = (\n  apiPath = process.env.NEXT_PUBLIC_KINDE_AUTH_API_PATH ||\n    process.env.KINDE_AUTH_API_PATH ||\n    '/api/auth'\n) => {\n  const [state, setState] = useState({\n    accessToken: null,\n    accessTokenRaw: null,\n    error: null,\n    featureFlags: [],\n    idToken: null,\n    idTokenRaw: null,\n    isAuthenticated: false,\n    isLoading: true,\n    organization: null,\n    permissions: [],\n    user: null,\n    userOrganizations: null\n  });\n\n  useEffect(() => {\n    refreshData();\n  }, []);\n\n  const refreshData = async () => {\n    const setupUrl = `${apiPath}/setup`;\n    const res = await fetch(setupUrl);\n    const kindeData = await res.json();\n    if (res.status == 200) {\n      setState({\n        ...kindeData\n      });\n    }\n    if (res.ok) {\n      setState({...kindeData, isLoading: false});\n    } else {\n      setState((prev) => ({\n        ...prev,\n        isLoading: false,\n        error: res.statusText || 'An error occurred'\n      }));\n    }\n  };\n\n  /**\n   *\n   * @param {string} code\n   * @param {string | number | boolean} defaultValue\n   * @param {import('../../types.js').KindeFlagTypeCode} flagType\n   * @returns {import('../../types.js').KindeFlag}\n   */\n  const getFlag = (code, defaultValue, flagType) => {\n    // @ts-ignore\n    const flags = state.featureFlags || [];\n    // @ts-ignore\n    const flag = flags && flags[code] ? flags[code] : {};\n\n    if (flag == {} && defaultValue == undefined) {\n      throw Error(\n        `Flag ${code} was not found, and no default value has been provided`\n      );\n    }\n\n    if (flagType && flag.t && flagType !== flag.t) {\n      throw Error(\n        // @ts-ignore\n        `Flag ${code} is of type ${flagDataTypeMap[flag.t]} - requested type ${\n          flagDataTypeMap[flagType]\n        }`\n      );\n    }\n    return {\n      code,\n      // @ts-ignore\n      type: flagDataTypeMap[flag.t || flagType],\n      value: flag.v == null ? defaultValue : flag.v,\n      is_default: flag.v == null,\n      defaultValue: defaultValue\n    };\n  };\n\n  /**\n   *\n   * @param {string} code\n   * @param {boolean} defaultValue\n   * @returns {boolean | undefined}\n   */\n  const getBooleanFlag = (code, defaultValue) => {\n    try {\n      const flag = getFlag(code, defaultValue, 'b');\n      return flag.value;\n    } catch (err) {\n      if (config.isDebugMode) {\n        console.error(err);\n      }\n    }\n  };\n\n  /**\n   *\n   * @param {string} code\n   * @param {string} defaultValue\n   * @returns {string | undefined}\n   */\n  const getStringFlag = (code, defaultValue) => {\n    try {\n      const flag = getFlag(code, defaultValue, 's');\n      return flag.value;\n    } catch (err) {\n      if (config.isDebugMode) {\n        console.error(err);\n      }\n      err;\n    }\n  };\n\n  /**\n   *\n   * @param {string} code\n   * @param {number} defaultValue\n   * @returns {number | undefined}\n   */\n  const getIntegerFlag = (code, defaultValue) => {\n    try {\n      const flag = getFlag(code, defaultValue, 'i');\n      return flag.value;\n    } catch (err) {\n      if (config.isDebugMode) {\n        console.error(err);\n      }\n      err;\n    }\n  };\n\n  /**\n   *\n   * @param {string} claim\n   * @param {\"access_token\" | \"id_token\"} tokenKey\n   * @returns\n   */\n  const getClaim = (claim, tokenKey = 'access_token') => {\n    const token =\n      tokenKey === 'access_token' ? state.accessToken : state.idToken;\n    return token ? {name: claim, value: token[claim]} : null;\n  };\n\n  /**\n   * @returns {import('../../types.js').KindeAccessToken | null}\n   */\n  const getAccessToken = () => {\n    return state.accessToken;\n  };\n  /**\n   * @returns {string | null}\n   */\n  const getToken = () => {\n    return state.accessTokenEncoded;\n  };\n\n  /**\n   * @returns {string | null}\n   */\n  const getAccessTokenRaw = () => {\n    return state.accessTokenEncoded;\n  };\n\n  /**\n   * @returns {string | null}\n   */\n  const getIdTokenRaw = () => {\n    return state.idTokenRaw;\n  };\n  /**\n   * @returns {import('../../types.js').KindeIdToken | null}\n   */\n  const getIdToken = () => {\n    return state.idToken;\n  };\n  /**\n   * @returns {import('../../types.js').KindeOrganization | null}\n   */\n  const getOrganization = () => {\n    return state.organization;\n  };\n  /**\n   * @returns {import('../../types.js').KindePermissions | never[]}\n   */\n  const getPermissions = () => {\n    return state.permissions;\n  };\n  /**\n   * @returns {import('../../types.js').KindeOrganizations | never[]}\n   */\n  const getUserOrganizations = () => {\n    return state.userOrganizations;\n  };\n  /**\n   *\n   * @param {string} key\n   * @returns {import('../../types.js').KindePermission}\n   */\n  const getPermission = (key) => {\n    if (!state.permissions) return {isGranted: false, orgCode: null};\n\n    return {\n      isGranted: state.permissions.permissions?.some((p) => p === key),\n      orgCode: state.organization?.orgCode\n    };\n  };\n\n  return {\n    ...state,\n    isAuthenticated: !!state.user,\n    getUser: () => state.user,\n    getIdTokenRaw,\n    getPermission,\n    getBooleanFlag,\n    getIntegerFlag,\n    getFlag,\n    getStringFlag,\n    getClaim,\n    getAccessToken,\n    getToken,\n    getAccessTokenRaw,\n    getIdToken,\n    getOrganization,\n    getPermissions,\n    getUserOrganizations,\n    refreshData\n  };\n};\n","import {jwtDecoder, TokenPart} from '@kinde/jwt-decoder';\nimport {config} from '../../config/index';\n\nconst isTokenValid = (token) => {\n  const accessToken = token?.access_token ?? token;\n  if (!accessToken) return false;\n\n  const accessTokenHeader = jwtDecoder(accessToken, TokenPart.header);\n  const accessTokenPayload = jwtDecoder(accessToken);\n  let isAudienceValid = true;\n  if (config.audience)\n    isAudienceValid =\n      accessTokenPayload.aud &&\n      accessTokenPayload.aud.includes(...config.audience);\n\n  if (\n    accessTokenPayload.iss == config.issuerURL &&\n    accessTokenHeader.alg == 'RS256' &&\n    accessTokenPayload.exp > Math.floor(Date.now() / 1000) &&\n    isAudienceValid\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nexport {isTokenValid};\n","import React from 'react';\nimport {config} from '../config/index';\n\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [orgCode]\n * @prop {string} [postLoginRedirectURL]\n * @prop {Object.<string, string>} [authUrlParams]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\n\nexport function RegisterLink({\n  children,\n  orgCode,\n  postLoginRedirectURL,\n  authUrlParams,\n  ...props\n}) {\n  let params = new URLSearchParams();\n  let paramsObj = {};\n  if (orgCode != null) paramsObj.org_code = orgCode;\n  if (postLoginRedirectURL != null)\n    paramsObj.post_login_redirect_url = postLoginRedirectURL;\n\n  paramsObj = {...authUrlParams, ...paramsObj};\n\n  for (const key in paramsObj) params.append(key, paramsObj[key]);\n  return (\n    <a\n      href={`${config.apiPath}/register${\n        params ? `?${params.toString()}` : ''\n      }`}\n      {...props}\n    >\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\nimport {config} from '../config/index';\n\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [orgCode]\n * @prop {string} [postLoginRedirectURL]\n * @prop {Object.<string, string>} [authUrlParams]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\nexport function LoginLink({\n  children,\n  postLoginRedirectURL,\n  orgCode,\n  authUrlParams,\n  ...props\n}) {\n  const params = new URLSearchParams();\n  let paramsObj = {};\n  if (orgCode != null) paramsObj.org_code = orgCode;\n  if (postLoginRedirectURL != null) {\n    if (postLoginRedirectURL?.startsWith('/')) {\n      const host =\n        typeof window !== 'undefined'\n          ? window.location.origin\n          : process.env.KINDE_SITE_URL;\n      postLoginRedirectURL = `${host}${postLoginRedirectURL}`;\n    }\n    paramsObj.post_login_redirect_url = postLoginRedirectURL;\n  }\n\n  paramsObj = {...authUrlParams, ...paramsObj};\n\n  for (const key in paramsObj) params.append(key, paramsObj[key]);\n\n  const authUrl = `${config.apiPath}/login${\n    params ? `?${params.toString()}` : ''\n  }`;\n  return (\n    <a href={authUrl} {...props}>\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\n\nimport {config} from '../config/index';\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [postLogoutRedirectURL]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\nexport function LogoutLink({children, postLogoutRedirectURL, ...props}) {\n  return (\n    <a\n      href={`${config.apiPath}/logout${\n        postLogoutRedirectURL\n          ? `?post_logout_redirect_url=${postLogoutRedirectURL}`\n          : ''\n      }\n      `}\n      {...props}\n    >\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\n\nimport {config} from '../config/index';\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [orgName]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\nexport function CreateOrgLink({children, orgName, ...props}) {\n  return (\n    <a\n      href={`${config.apiPath}/create_org${\n        orgName ? `?org_name=${orgName}` : ''\n      }`}\n      {...props}\n    >\n      {children}\n    </a>\n  );\n}\n"],"names":["removeTrailingSlash","url","trim","endsWith","slice","KINDE_SITE_URL","process","env","KINDE_AUTH_API_PATH","NEXT_PUBLIC_KINDE_AUTH_API_PATH","KINDE_POST_LOGIN_REDIRECT_URL","KINDE_POST_LOGIN_URL_REDIRECT_URL","KINDE_POST_LOGOUT_REDIRECT_URL","KINDE_ISSUER_URL","KINDE_CLIENT_ID","KINDE_CLIENT_SECRET","KINDE_AUDIENCE","KINDE_COOKIE_DOMAIN","KINDE_SCOPE","config","isDebugMode","KINDE_DEBUG_MODE","apiPath","initialState","accessToken","idToken","isAuthenticated","isLoading","organization","permissions","user","userOrganizations","getAccessToken","getBooleanFlag","getClaim","getFlag","getIdToken","getIntegerFlag","getOrganization","getPermission","getPermissions","getStringFlag","getToken","getUser","getUserOrganizations","refreshData","SESSION_PREFIX","redirectURL","postLoginRedirectURL","issuerURL","clientID","clientSecret","postLogoutRedirectURL","audience","split","cookieDomain","responseType","codeChallengeMethod","redirectRoutes","callback","concat","issuerRoutes","logout","login","register","token","profile","clientOptions","authDomain","clientId","logoutRedirectURL","frameworkVersion","scope","grantType","flagDataTypeMap","s","i","b","AuthContext","createContext","_objectSpread","useKindeAuth","useContext","tokenFetcher","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","fetch","sent","t0","Error","ok","json","abrupt","status","stop","_x","apply","this","arguments","KindeProvider","_ref2","children","setupUrl","useCallback","checkSession","_callee2","tokens","_accessToken","_accessTokenEncoded","featureFlags","_idToken","_organization","_permissions","_user","_userOrganizations","_getAccessToken","_getAccessTokenRaw","getAccessTokenEncoded","_getToken","_getIdToken","_getIdTokenRaw","_getPermissions","_getOrganization","_getUser","_getUserOrganizations","_getClaim","_getFlag","_getBooleanFlag","_getStringFlag","_getIntegerFlag","_getPermission","_context2","undefined","accessTokenEncoded","getAccessTokenRaw","getIdTokenRaw","idTokenRaw","claim","length","name","value","code","defaultValue","flagType","flags","flag","Object","keys","t","type","v","is_default","err","console","error","key","isGranted","some","p","orgCode","setState","previous","accessTokenRaw","idTokenEncoded","_useState2","_slicedToArray","useState","state","useEffect","checkLoading","_ref4","_callee3","_context3","React","createElement","Provider","useKindeBrowserClient","res","kindeData","statusText","_state$permissions$pe","_state$organization","isTokenValid","_token$access_token","_accessTokenPayload$a","access_token","accessTokenHeader","jwtDecoder","TokenPart","header","accessTokenPayload","isAudienceValid","aud","includes","_toConsumableArray","iss","alg","exp","Math","floor","Date","now","RegisterLink","authUrlParams","props","_objectWithoutProperties","_excluded","params","URLSearchParams","paramsObj","org_code","post_login_redirect_url","append","_extends","href","toString","LoginLink","_postLoginRedirectURL","startsWith","host","window","location","origin","authUrl","LogoutLink","CreateOrgLink","orgName"],"mappings":"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"}